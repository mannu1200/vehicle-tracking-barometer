# Script that plots the DTW warp map between two barometer curves
# The init file is fed as input to the DtwPlotter.java program which
#  adds in gnuplot arrows to show the warp mapping.

# Parameters for the graphs
set xlabel "Time (sec)"
set xrange [0:]
set ylabel "Height (m)"
set ytics 2
set grid
set key top right
# NOTE: Dashed lines appear only if 'dashed' specified :P
set terminal pdf dashed
set datafile separator ","

# Arrow properties
# Arrow line type
arrowLineType = 1
# Arrow line width
arrowLineWidth = 2
# Arrow line color
arrowLineColor = 'black'

# Height Curve properties
# Height curve: Color 1
heightCurveColor1 = 'red'
# Height curve: Color 2
heightCurveColor2 = 'blue'
# Height curve: Line width
heightCurveLineWidth = 3
# Height line type
heightLineType = 1
# Offset (in metres) of first height curve (value generated by DtwPlotter.java)
#heightCurveOffset = 10

#DTW-ARROW-START
# Arrows to show the warp matching (generated by DtwPlotter.java)
# These must be specified BEFORE plot command
set arrow from %f,%f to %f,%f nohead lt arrowLineType lw arrowLineWidth lc rgb arrowLineColor
#DTW-ARROW-END

# Output PDF name
set output "%s"
plot '%s' using (($1)/1000.0):($2 + heightCurveOffset) with lines lt heightLineType lw heightCurveLineWidth lc rgb heightCurveColor1 title "Data1", \
     '%s' using (($1)/1000.0):($2) with lines lt heightLineType lw heightCurveLineWidth lc rgb heightCurveColor2 title "Data2"

# End of gnuplot file
#DTW-END
